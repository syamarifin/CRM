function MakeScrollable(e, t) { var n = e.id; var r = e.offsetHeight; var i = new Array; for (var s = 0; s < e.getElementsByTagName("TH").length; s++) { i[s] = e.getElementsByTagName("TH")[s].offsetWidth } e.parentNode.appendChild(document.createElement("div")); var o = e.parentNode; var u = document.createElement("table"); for (s = 0; s < e.attributes.length; s++) { if (e.attributes[s].specified && e.attributes[s].name != "id") { u.setAttribute(e.attributes[s].name, e.attributes[s].value) } } u.style.cssText = e.style.cssText; u.appendChild(document.createElement("tbody")); u.getElementsByTagName("tbody")[0].appendChild(e.getElementsByTagName("TR")[0]); var a = u.getElementsByTagName("TH"); var f = e.getElementsByTagName("TR")[0]; for (var s = 0; s < a.length; s++) { var l; if (i[s] > f.getElementsByTagName("TD")[s].offsetWidth) { l = i[s] } else { l = f.getElementsByTagName("TD")[s].offsetWidth } a[s].style.width = parseInt(l) + "px"; $("tr", $(e)).each(function () { $("td", this).eq(s).css("width", l) }) } o.removeChild(e); var c = document.createElement("div"); c.id = "header" + n; c.appendChild(u); o.appendChild(c); var h = document.createElement("div"); c = document.getElementById(c.id); c.style.width = "9999999999999px"; var p = c.getElementsByTagName("table")[0].offsetWidth; c.style.width = p + 17 + "px"; h.style.cssText = "overflow:auto;height:" + t.ScrollHeight + "px;width:" + (p + 17) + "px"; h.appendChild(e); o.appendChild(h); if (t.Width > 0) { o.style.cssText = "overflow:auto;width:" + t.Width + "px" } h.scrollTop = position; h.onscroll = function () { position = h.scrollTop } } (function (e) { e.fn.Scrollable = function (t) { var n = { ScrollHeight: 300, Width: 0, IsInUpdatePanel: false }; var t = e.extend(n, t); return this.each(function () { var n = e(this).get(0); var r = n.id; MakeScrollable(n, t); if (t.IsInUpdatePanel) { var i = Sys.WebForms.PageRequestManager.getInstance(); if (i != null) { i.add_endRequest(function (n, i) { MakeScrollable(e("#" + r).get(0), t) }) } } }) } })(jQuery); var position = 0;